## Create a Sales Order

```shell
curl "https://v-factory.omniship.eu/api/portal/v1/sales_orders"
  -X POST
  -H "Authorization: Bearer FkihCtzyXWvutSRUaaEupN8hvABcDefgHI6lJKvv"
  -H "Content-Type: application/json"
  -d '{
        "ignore_auto_number_generation": true,
        "sales_order_number": "#1234",
        "reference": "shipment reference",
        "destination_address": {
          "contact_name": "Jane Doe",
          "contact_email": "jane@example.eu",
          "contact_phone": "415-1234567",
          "line_1": "417 Melrose Place",
          "line_2": "FLOOR 5",
          "postal_code": "90210",
          "city": "Los Angeles",
          "state": "CA",
          "country": "US"
        },
        "products": [
          {
            "sku": "test",
            "quantity": 2,
            "sales_rate": 20
          }
        ],
        "carrier": "ASEND"
      }'
```

> The above command returns JSON structured like this:

```
HTTP/1.1 201 Created
Content-Type:application/json;charset=UTF-8
```

```json
{
  "sales_order": {
    "created_at": "2021-09-03T14:14:39+00:00",
    "last_modified": "2021-09-03T14:14:39+00:00",
    "ignore_auto_number_generation": true,
    "sales_order_number": "#1234",
    "state": "new",
    "reference": null,
    "destination_address": {
      "company_name": null,
      "contact_name": "Jane Doe",
      "contact_email": "jane@example.eu",
      "contact_phone": "415-1234567",
      "line_1": "417 Melrose Place",
      "line_2": "FLOOR 5",
      "postal_code": "90210",
      "city": "Los Angeles",
      "state": "CA",
      "country": "US",
      "country_full": "United States",
      "eori_number": null,
      "vat_number": null
    },
    "products": [
      {
        "name": "testProduct",
        "sku": "test",
        "barcode": "234234",
        "description": "test",
        "sales_rate": 20,
        "weight": 200,
        "currency": "EUR",
        "stock": {
          "warehouse": null,
          "total_stock": 0,
          "reserved": 0,
          "backorders": 0,
          "picklists": 0,
          "errors": 0,
          "free": 0
        }
      }
    ],
    "carrier_code": "ASEND",
    "tracking_number": null,
    "shipment_date": null,
    "notes": null
  }
}
```

This endpoint creates a new Sales Order in V-factory portal.

### HTTP Request

<span class="http-verb post">POST</span> `https://v-factory.omniship.eu/api/portal/v1/sales_orders`

### Arguments

Attribute | Type | Description
--------- | ----------- | ----------
ignore_auto_number_generation | <span class="type">boolean</span> |  Ignore auto sales order number generation for this sales order. This mandates the sales order number.
sales_order_number | <span class="type">string</span> | <span class="required_if">Required if</span> `ignore_auto_number_generation` is `true`. The Sales Order number. This is unique for each sales order.
reference | <span class="type">string</span> | <span class="optional">optional</span> Reference of the Sales Order.
order_date | <span class="type">date</span> | <span class="optional">optional</span> The date for the Sales Order. When omitted the current date will be used.
destination_address_id | <span class="type">integer</span> | <span class="required_if">required if</span> `destination_address` is not given. Unique Id generated by the server for an address. To add a delivery address to sales order, send the `address_id` using this node. Else the `destination_address` fields are required.
destination_address | <span class="type">object</span> | <span class="required_if">required if</span> `delivery_address_id` is not given. <span class="object">Address</span> object that should be used as the receiver address.
products | <span class="type">array</span> | <span class="required">required</span> A Sales order can contain multiple <span class="object">Product</span> objects. Each line item contains the item `sku`, and `quantity` (quantity of the product for the order).
carrier | <span class="type">string</span> | <span class="optional">optional</span> Select a specific couriers <code>admin_name</code> to create the shipment with. Use the <a href="#couriers">Couriers API</a> resource to retrieve a list of available couriers and their admin names.
notes | <span class="type">string</span> | <span class="optional">optional</span> Notes for the Sales Order.

### Address Object definitions:

<div class="magic-block-parameters">
	<div class="block-parameters-table">
		<div class="table">
			<div class="tr">
				<div class="th" style="min-width: 120px;">Field Name</div>
				<div class="th">Type</div>
				<div class="th">Description</div>
			</div>
			<div class="tr">
				<div class="td"><p><code>contact_name</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="required">required</span> Address contact name. Maximum: 35 characters </p></div>
			</div>
			<div class="tr">
				<div class="td"><p><code>company_name</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="optional">optional</span> Address company name. Maximum: 35 characters </p></div>
			</div>
      <div class="tr">
				<div class="td"><p><code>contact_email</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="optional">optional</span> Address contact email address. Maximum: 50 characters </p></div>
			</div>
			<div class="tr">
				<div class="td"><p><code>contact_phone</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="required">required</span> Address contact phone number. Maximum: 18 characters </p></div>
			</div>
			<div class="tr">
				<div class="td"><p><code>line_1</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="required">required</span> Address line 1. Maximum: 35 characters </p></div>
			</div>
			<div class="tr">
				<div class="td"><p><code>line_2</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="optional">optional</span> Address line 2. Maximum: 35 characters </p></div>
			</div>
			<div class="tr">
				<div class="td"><p><code>postal_code</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="required_if">required if</span> Country is postal aware. Address postal code. </p></div>
			</div>
			<div class="tr">
				<div class="td"><p><code>city</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="required">required</span> Address city</p></div>
			</div>
			<div class="tr">
				<div class="td"><p><code>state</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="required_if">required if</span> Country has states. (US, CA, MX, IN)</p></div>
			</div>
			<div class="tr">
				<div class="td"><p><code>country</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="required">required</span> Address country code in Alpha 2 Format  (ISO 3166-1)</p></div>
			</div>
      <div class="tr">
				<div class="td"><p><code>eori_number</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="optional">optional</span> Economic Operators Registration and Identification (EORI) number</p></div>
			</div>
      <div class="tr">
				<div class="td"><p><code>vat_number</code></p></div>
				<div class="td"><p><span>string</span></p></div>
				<div class="td"><p><span class="optional">optional</span> The consignee's tax identification number</p></div>
			</div>
		</div>
	</div>
</div>
